from pybezier import Bezier, UniformDistanceSampler, SampledCurve
import numpy as np

control_points= np.array([ 0,  0,  1,  1,  2,  2,  3,  3,  4,  4,  5,  5,  6,  6,  7,  7,  8,  8,  9,  9, 10, 10,])
data_points= np.array([[ 1.74268222e-04, -8.27392607e-02],
 [ 2.78272473e-03,  1.15537430e-02],
 [ 5.05223279e-03,  1.05088800e-01],
 [ 8.99496085e-03, -2.91144122e-02],
 [ 1.22317837e-02, -2.53354637e-02],
 [ 2.05613330e-02,  1.31128080e-02],
 [ 2.43747990e-02,  6.77220184e-02],
 [ 4.27508062e-02,  1.70575708e-01],
 [ 6.27428716e-02, -7.66217114e-04],
 [ 8.21101575e-02,  1.32857547e-01],
 [ 8.57090242e-02,  1.07215726e-01],
 [ 1.06925232e-01, -7.91396365e-02],
 [ 1.15450149e-01,  7.32622045e-02],
 [ 1.89972467e-01,  1.75598968e-01],
 [ 2.69068692e-01,  2.61876729e-01],
 [ 3.60464970e-01,  3.85309703e-01],
 [ 3.98662749e-01,  1.84154000e-01],
 [ 4.28111914e-01,  4.19779407e-01],
 [ 5.79123838e-01,  4.79523292e-01],
 [ 7.42828114e-01,  5.32429783e-01],
 [ 7.81534998e-01,  7.56799484e-01],
 [ 7.84699966e-01,  7.80140866e-01],
 [ 8.24960249e-01,  6.69195782e-01],
 [ 8.28789488e-01,  8.21359514e-01],
 [ 8.33087419e-01,  7.01859827e-01],
 [ 1.02363657e+00,  8.60654544e-01],
 [ 1.12727470e+00,  7.93372160e-01],
 [ 1.20727258e+00,  1.09309840e+00],
 [ 1.25006271e+00,  6.83059446e-01],
 [ 1.28968818e+00,  9.51603345e-01],
 [ 1.28975994e+00,  1.03028047e+00],
 [ 1.35462642e+00,  7.73379475e-01],
 [ 1.48155212e+00,  9.77073452e-01],
 [ 1.53649750e+00,  9.91689986e-01],
 [ 1.66068887e+00,  1.07843269e+00],
 [ 1.82423305e+00,  1.09287774e+00],
 [ 1.95116217e+00,  8.88139646e-01],
 [ 2.12503967e+00,  7.11847047e-01],
 [ 2.37488267e+00,  8.30493083e-01],
 [ 2.39637929e+00,  7.99917202e-01],
 [ 2.62644102e+00,  4.46466277e-01],
 [ 3.44107139e+00, -2.59933331e-01],
 [ 4.68299487e+00, -9.61381401e-01],
 [ 4.84356469e+00, -9.34781252e-01],
 [ 4.99880812e+00, -9.38840888e-01],
 [ 6.06702128e+00, -7.38148817e-02],
 [ 6.22781807e+00, -2.29134902e-01],
 [ 7.03829143e+00,  7.89448345e-01],
 [ 8.67547044e+00,  7.19179114e-01],
 [ 8.97378572e+00,  4.14145253e-01]])

sampled_curve = SampledCurve(data_points)
bezier = Bezier(control_points.reshape(-1, 2))
target_curve = UniformDistanceSampler(sampled_curve, 1000)
bezier_curve = UniformDistanceSampler(bezier, 1000)
print('Start sampling')
bezier_points = [bezier_curve(t) for t in np.linspace(0, 1, len(data_points))]
bezier_points = np.array(bezier_points)
print('End sampling1')
target_points = [target_curve(t) for t in np.linspace(0, 1, len(data_points))]
target_points = np.array(target_points)
print('End sampling')